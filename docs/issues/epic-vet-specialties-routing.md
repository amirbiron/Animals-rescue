## Issue: שיפור התאמת דיווחים לווטרינרים (specialties + כלב/חתול)

### תקציר
כרגע דיווחים עם טקסט כמו "כלב פצוע" לא תמיד מתאימים לארגונים ש־`specialties` שלהם כוללים רק תגיות כלליות כמו `veterinary_care`. המטרה: להבטיח התאמה אמינה ופשוטה בין סוג החיה (כלב/חתול) לבין וטרינרים, גם אם אין במפורש "dog"/"כלב" ב־`specialties`.

### קישור להצעה
[הגיסט המקורי עם ההצעה](https://gist.github.com/amirbiron/4151a9e954cda6431087f305044732cf)

### בעיה נוכחית (בגדול)
- התאמה לפי `specialties` מחפשת מילות מפתח חייתיות (למשל "כלב"/"dog").
- ארגונים רבים מסומנים כ־`veterinary_care`/`veterinary` בלי מילת "כלב", ולכן לא נכללים בהתאמה לפי סוג חיה.
- קיימת התאמה לפי מיקום שעוזרת, אבל היא לא מספיקה בכל המקרים.

### מטרות
- כשמזוהה DOG/CAT מהטקסט, לכלול וטרינרים רלוונטיים גם אם ב־`specialties` יש רק תגיות כלליות של וטרינריה.
- להעשיר `specialties` של וטרינרים קיימים (Backfill) כך שיכללו גם `dog`/`cat` היכן שמתאים.
- לכסות בבדיקות ולתעד.

### היקף (Scope)
- התאמות לוגיקה בהתאמת ארגונים לפי סוג חיה.
- העשרת תגיות בעת סנכרון עם מקורות (Google Places וכו').
- משימת Backfill חד־פעמית לנתונים קיימים.
- בדיקות (Unit + Flow), תיעוד, ומדדים.

### מחוץ להיקף (Out of Scope)
- שינויים במודל הנתונים או מיגרציות DB שוברות אחורה.
- שינוי חוויית המשתמש בממשק הבוט/ה‐UI.

### תוכנית יישום מוצעת
1) הרחבת מילות מפתח בהתאמה לפי סוג חיה (בוצע חלקית)
   - להוסיף ל־DOG/CAT גם מונחי vet כלליים: `vet`, `veterinary`, `veterinary_care`, `animal_hospital`, `emergency_vet`.

2) העשרת specialties בזמן סנכרון
   - בעת גזירת `specialties` מ־Google Places `types`, אם הארגון vet – להוסיף גם `veterinary` ולכל הפחות `dog`/`cat` לפי המדיניות (אפשר בסיסי: תמיד `dog` ו־`cat`).
   - הקפדה על מיזוג ללא כפילויות ומיון.

3) Backfill חד־פעמי
   - Job תחזוקה: לעבור על כל ארגוני vet, להוסיף `dog`/`cat` אם חסרים.
   - לוג מפורט: כמה עודכנו, כמה דולגו, שגיאות.

4) בדיקות
   - Unit ל־`_find_organizations_by_type` עבור DOG/CAT מול `specialties` שמכילים רק `veterinary_care`/`veterinary`/`vet`.
   - Flow: טקסט "כלב פצוע ..." מוביל להתראת וטרינר רלוונטי (עם מוקים לערוצים).

5) תיעוד
   - תיעוד רשימת המונחים שנחשבים vet.
   - הסבר קצר איך `specialties` נגזרים ומשפיעים על התאמה.

6) ניטור/מדדים
   - פילוח התאמות: דרך `specialties` מול מרחק (מיקום).
   - מדדים בסיסיים בדאשבורד/תיעוד השאילתות.

7) כלי ניהול ידני (אופציונלי)
   - Endpoint ניהולי פשוט לעדכון `specialties` לארגון בודד, עם ולידציה.

### Acceptance Criteria
- עבור טקסט שמזוהה כ־DOG:
  - ארגונים ש־`specialties` שלהם כוללים אחד מ: `veterinary_care`, `veterinary`, `vet`, `animal_hospital`, `emergency_vet`, או מילות "dog"/"dogs"/"כלב"/"כלבים" – ייכללו בהתאמה.
- עבור CAT: דומה ל־DOG, עם מילות "cat"/"cats"/"חתול"/"חתולים".
- סנכרון מקורות מוסיף לארגוני vet לפחות `veterinary` וגם `dog`/`cat` לפי המדיניות.
- Backfill רץ בהצלחה עם דו"ח ספירה, ללא שינוי לארגונים שאינם vet.
- בדיקות יחידה וזרימה מכסות את מקרי הקצה המרכזיים ועוברות.

### בדיקות מוצעות
- Unit: `_find_organizations_by_type(AnimalType.DOG, ...)` מחזיר ארגון עם `specialties=["veterinary_care"]`.
- Flow: "כלב פצוע באמצע הכביש" -> ארגון vet מקבל התראה (עם מוקים לערוצים).
- Regression: התאמות למינים אחרים (CAT/BIRD/WILDLIFE) לא נפגעות.

### ניטור
- Counters/Labels: `match_source={specialties|distance}`.
- מעקב שבועי אחרי שיעור התאמות דרך `specialties`.

### תוכנית השקה
- Dev/Stage: הרצת Backfill על סאב־סט קטן, בדיקות ידניות.
- Production: הרצה מדורגת, ניטור, אפשרות rollback קלה (כיבוי Backfill/סינון מילות המפתח בהגדרות אם יש).

### סיכונים ושיקולים
- הרחבת התאמה עלולה להגדיל כמות ההתראות לארגונים – נדרש ניטור.
- Backfill צריך להיות בטוח: לא לשנות ארגונים שאינם vet, ולוודא שאין כפילויות.

### צ'קליסט
- [x] הרחבת מילות מפתח בהתאמה (DOG/CAT -> vet terms)
- [ ] העשרת specialties בזמן סנכרון מקורות
- [ ] Backfill חד־פעמי ל־specialties של vet
- [ ] בדיקות יחידה להתאמה לפי specialties
- [ ] בדיקות זרימה "כלב פצוע" -> התראת vet
- [ ] תיעוד dev-guide/api-reference
- [ ] מדדים: פילוח התאמות לפי מקור
- [ ] כלי ניהול ידני לעדכון specialties (אופציונלי)

