# ==============================================
# 🍃 דוגמת קובץ .env – Animal Rescue Bot
# העתקו לקובץ חדש בשם .env ועדכנו ערכים לפי הצורך
# ==============================================

# -------- סביבת הרצה --------
ENVIRONMENT=development            # development / testing / staging / production
DEBUG=false
SECRET_KEY=change-me

# -------- אפליקציה / API --------
API_V1_PREFIX=/api/v1
SHOW_DOCS=true

# -------- מסד נתונים --------
# ניתן לספק URL מלא או להרכיב ממשתני POSTGRES_*
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/animal_rescue
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=animal_rescue
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=postgres

# -------- Redis --------
REDIS_URL=redis://localhost:6379/0
# REDIS_QUEUE_URL=redis://localhost:6379/1

# -------- בוט טלגרם + Webhook --------
TELEGRAM_BOT_TOKEN=
TELEGRAM_WEBHOOK_SECRET=
WEBHOOK_HOST=                        # לדוגמה: https://your-app.onrender.com
WEBHOOK_PATH=/telegram/webhook
TELEGRAM_RATE_LIMIT_MESSAGES=20
TELEGRAM_RATE_LIMIT_WINDOW=60

# -------- Google APIs --------
GOOGLE_PLACES_API_KEY=
GOOGLE_GEOCODING_API_KEY=
GOOGLE_API_RATE_LIMIT=10
GOOGLE_API_QUOTA_DAILY=1000

# -------- SerpAPI (להעשרת פרטי קשר) --------
SERPAPI_KEY=

# -------- Email / SMTP --------
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_TLS=true
EMAILS_FROM_EMAIL=
EMAILS_FROM_NAME=Animal Rescue Bot

# -------- אחסון קבצים --------
STORAGE_BACKEND=local               # local / s3 / r2
# ל-S3/R2
S3_ENDPOINT_URL=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_BUCKET_NAME=
S3_REGION=auto

# -------- Workers (RQ) --------
ENABLE_WORKERS=false
WORKER_PROCESSES=2
WORKER_TIMEOUT=300

# -------- לוגים וניטור --------
LOG_LEVEL=INFO                      # DEBUG/INFO/WARN/ERROR
LOG_FORMAT=json                     # json / pretty
SENTRY_DSN=

# -------- מגבלות ושיוך התראות --------
SEARCH_RADIUS_KM=20
MAX_SEARCH_RADIUS_KM=50
ALERT_TIMEOUT_MINUTES=15
MAX_ALERTS_PER_REPORT=5

# -------- ספקי SMS/WhatsApp (אופציונלי) --------
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_SMS_FROM=
TWILIO_WHATSAPP_FROM=

# Core
ENVIRONMENT=development
DEBUG=false
SECRET_KEY=change-me
LOG_LEVEL=INFO
LOG_FORMAT=json
SHOW_DOCS=true

# Web
API_V1_PREFIX=/api/v1
CORS_ORIGINS=*

# Database (Render exposes DATABASE_URL)
# Example: postgresql+asyncpg://user:pass@host:5432/dbname
DATABASE_URL=
# Or granular (used only if DATABASE_URL empty)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=animal_rescue
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Redis (Render exposes REDIS_URL). REDIS_QUEUE_URL inferred automatically
REDIS_URL=
REDIS_PASSWORD=

# Telegram Bot
TELEGRAM_BOT_TOKEN=
WEBHOOK_HOST=
TELEGRAM_WEBHOOK_SECRET=

# Google APIs
GOOGLE_PLACES_API_KEY=
GOOGLE_GEOCODING_API_KEY=
GOOGLE_API_RATE_LIMIT=10
GOOGLE_API_QUOTA_DAILY=1000

# Workers
ENABLE_WORKERS=false
WORKER_PROCESSES=2
WORKER_TIMEOUT=300

# Email (optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
EMAILS_FROM_EMAIL=
EMAILS_FROM_NAME=Animal Rescue Bot
SMTP_TLS=true

# Storage (optional)
STORAGE_BACKEND=local
S3_ENDPOINT_URL=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_BUCKET_NAME=
S3_REGION=auto
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# Business Logic
REPORT_EXPIRY_DAYS=30
SEARCH_RADIUS_KM=20
MAX_SEARCH_RADIUS_KM=50
ALERT_TIMEOUT_MINUTES=15
MAX_ALERTS_PER_REPORT=5

# Bot rate limit
TELEGRAM_RATE_LIMIT_MESSAGES=20
TELEGRAM_RATE_LIMIT_WINDOW=60

# Polling lock (webhook mode לא משתמש)
POLLING_LOCK_KEY=bot:polling_lock
LOCK_LEASE_SECONDS=60
LOCK_HEARTBEAT_INTERVAL=25
LOCK_WAIT_FOR_ACQUIRE=false
LOCK_ACQUIRE_MAX_WAIT=0